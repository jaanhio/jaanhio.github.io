<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Blogs ::
        jaanhio
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content=""
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/blog/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"><meta name="twitter:title" content="Blogs">
<meta name="twitter:description" content="">



<meta property="og:url" content="/blog/">
  <meta property="og:site_name" content="jaanhio">
  <meta property="og:title" content="Blogs">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">



<link rel="alternate" type="application/rss+xml" href="/blog/index.xml" title="jaanhio" />
<meta name="description" content="I write about tech and more!" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >$</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About me</a></li>
        
      
        
          <li><a href="/collection">Collection</a></li>
        
      
        
          <li><a href="/moments">Moments</a></li>
        
      
        
          <li><a href="/projects">Projects</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About me</a></li>
      
    
      
        <li><a href="/collection">Collection</a></li>
      
    
      
        <li><a href="/moments">Moments</a></li>
      
    
      
        <li><a href="/projects">Projects</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="posts">
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/proc-root/">A little trick I learned for copying files out of a (somewhat) locked down EC2 worker node for EKS</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Sep 2023
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/eks/">#eks</a>&nbsp;
            
              <a href="/tags/kubectl/">#kubectl</a>&nbsp;
            
              <a href="/tags/proc/">#proc</a>&nbsp;
            
              <a href="/tags/pseudo-filesystem/">#pseudo-filesystem</a>&nbsp;
            
              <a href="/tags/linux/">#linux</a>&nbsp;
            
              <a href="/tags/containers/">#containers</a>&nbsp;
            
              <a href="/tags/namespaces/">#namespaces</a>&nbsp;
            
              <a href="/tags/cgroups/">#cgroups</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            Disclaimer: you should have also have access to EKS cluster via <code>kubectl</code>
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/proc-root/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/imagemagick-magic/">Automation magic with Imagemagick</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Jun 2023
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 2 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/automation/">#automation</a>&nbsp;
            
              <a href="/tags/imagemagick/">#imagemagick</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            How I saved hours of editing using a single command&hellip;
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/imagemagick-magic/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/wireshark-vpn-raspberrypi/">How Wireshark saved my sanity while setting up OpenVPN on Raspberry Pi</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Feb 2023
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 12 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/learnings/">#learnings</a>&nbsp;
            
              <a href="/tags/linux/">#linux</a>&nbsp;
            
              <a href="/tags/networking/">#networking</a>&nbsp;
            
              <a href="/tags/openvpn/">#openvpn</a>&nbsp;
            
              <a href="/tags/wireshark/">#wireshark</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            And also a shallow dive into OpenVPN protocol&hellip;
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/wireshark-vpn-raspberrypi/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/nodejs-single-multi/">Is Node.js single-threaded or multi-threaded?</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Jul 2022
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 9 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/nodejs/">#nodejs</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            Or both?
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/nodejs-single-multi/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/tcp-window-size-mtu/">Difference between TCP window size &amp; MTU</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Mar 2022
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/networking/">#networking</a>&nbsp;
            
              <a href="/tags/tcp/">#tcp</a>&nbsp;
            
              <a href="/tags/mtu/">#mtu</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            A brief explanation on the differences between TCP window size &amp; MTU.
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/tcp-window-size-mtu/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/multiple-ssh-config/">Using multiple SSH configurations for git operations</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Feb 2022
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 6 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/git/">#git</a>&nbsp;
            
              <a href="/tags/ssh/">#ssh</a>&nbsp;
            
              <a href="/tags/guide/">#guide</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            Guide to setting up multiple SSH configurations for git operations
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/multiple-ssh-config/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/configuring-conntrack-eks/">Configuring conntrack limits for EKS worker nodes</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Dec 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 5 min read</span
            >
          
        </div>

        

        

        <div class="post-content">
          
            It&rsquo;s the last week of the year, which means more time to clean up those tech debts&hellip;
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/configuring-conntrack-eks/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/kubernetes-cpu-requests-limits/">Kubernetes CPU requests and limits</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Nov 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 6 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/linux/">#linux</a>&nbsp;
            
              <a href="/tags/cgroups/">#cgroups</a>&nbsp;
            
              <a href="/tags/namespaces/">#namespaces</a>&nbsp;
            
              <a href="/tags/kernel/">#kernel</a>&nbsp;
            
              <a href="/tags/kubernetes/">#kubernetes</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            It all started with this alert&hellip;
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/kubernetes-cpu-requests-limits/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/understanding-linux-processes/">Orphan vs Zombie vs Daemon processes</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Nov 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 5 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/linux/">#linux</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              What are processes? A process is basically a program in execution and a program is a piece of code which may be a single line or millions of lines long written in a programming language.
When a UNIX machine gets powered up, the kernel will be loaded and complete its initialization process. Once initialization is completed, the kernel creates a set of processes in the user space, including the scheduling of the system management daemon process (usually named init) which has PID 1 and is responsible for running the right complement of services and daemons at any given time.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/understanding-linux-processes/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/eks-private-ip-resolution/">Managing multiple EKS clusters access using Apiservers&rsquo; private endpoints with AWS VPN</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Oct 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/aws/">#aws</a>&nbsp;
            
              <a href="/tags/eks/">#eks</a>&nbsp;
            
              <a href="/tags/dns/">#dns</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              I manage multiple EKS clusters (multi-envs multi-tenants) at work and access to these is via Bastion instances deployed within each VPC of those clusters.
However this approach can become unmaintainable over time as the number of Bastion instances will grow with the number of clusters we manage. This means additional effort required for monitoring and maintenance of each of those Bastion instances.
This led to the idea of removing all Bastion instances and configure direct access to Apiservers instead.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/eks-private-ip-resolution/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/nsenter-debug/">Debugging containers using nsenter</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Oct 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 2 min read</span
            >
          
        </div>

        

        

        <div class="post-content">
          
            
              If you have ever managed a Kubernetes cluster, chances are you have encountered pods that just doesn&rsquo;t want to behave the way they are supposed to.
You checked the logs and traced it back to the source code. Logic checks out &#x2705;
You started narrowing down the causes. Networking issue? Configuration issue?
You entered the container and decided to use ping to identify network connectivity issues.
/ $ ping google.com PING google.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/nsenter-debug/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/visualizing-alerts-metrics-grafana/">Visualizing alerts metrics on Grafana</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Sep 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/prometheus/">#prometheus</a>&nbsp;
            
              <a href="/tags/monitoring/">#monitoring</a>&nbsp;
            
              <a href="/tags/grafana/">#grafana</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              When it comes to Prometheus and alerts, the typical use case is to send alerts to Alertmanager for handling (deduplication, grouping) and routing them to the various services such Slack, PagerDuty etc.
However, there might be situations where we might need to perform analysis on alert patterns and being able to visualize how often the alerts are firing can be very useful.
In this post, I will share how we can visualize the alert metrics on Grafana using the various PromQL operators and functions.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/visualizing-alerts-metrics-grafana/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/debugging-prometheus-alert/">Debugging a misfiring Prometheus alert</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Sep 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 6 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/prometheus/">#prometheus</a>&nbsp;
            
              <a href="/tags/monitoring/">#monitoring</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            Last week at work, I encountered an alert that was misfiring. Or so I thought&hellip;
            
        </div>
        
          <div>
            <a class="read-more button" href="/blog/debugging-prometheus-alert/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/nodejs-flamegraph-analysis/">Nodejs application CPU profile analysis with Flame Graphs</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Sep 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 5 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/debug/">#debug</a>&nbsp;
            
              <a href="/tags/performance-analysis/">#performance analysis</a>&nbsp;
            
              <a href="/tags/nodejs/">#nodejs</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              In my previous post, I shared about my debugging process using various Linux tools and debugger. During the process, I came across the analysis technique using flame graphs and thought it will be interesting to see what information I can get out of it.
What are flame graphs? Flame graphs, as the name suggests, are graphs that look like flames because of the shape and color (usually red-yellowish hues). It was invented by Brendan Gregg for the purpose of analyzing performance issue and understand CPU usage quickly.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/nodejs-flamegraph-analysis/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/debugging-nodejs-app/">Debugging high CPU usage and memory leak on Nodejs application</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Sep 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 7 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/debug/">#debug</a>&nbsp;
            
              <a href="/tags/performance-analysis/">#performance analysis</a>&nbsp;
            
              <a href="/tags/nodejs/">#nodejs</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              Recently one of our nodejs application (responsible for scraping metrics for external services) running in our EKS cluster was experiencing high CPU usage and memory leak and I was tasked to figure out the root cause. In this post, I will share my troubleshooting process and interesting stuff I discovered along the way.
It all began with an alert notifying us of the application experiencing CPU throttling. Looking at the dashboard, it became apparent that high CPU usage isn&rsquo;t the only issue; it was also experiencing memory leak and oddly high incoming and outgoing traffic.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/debugging-nodejs-app/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/understanding-alertmanager/">Understanding the differences between alertmanager&rsquo;s group_wait, group_interval and repeat_interval</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Aug 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 2 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/alertmanager/">#alertmanager</a>&nbsp;
            
              <a href="/tags/monitoring/">#monitoring</a>&nbsp;
            
              <a href="/tags/prometheus/">#prometheus</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              Alertmanager is an application that handles alerts sent by client applications such as Prometheus. It can also perform alert grouping, deduplication, silencing, inhibition. Definitely a useful addition to any modern monitoring infrastructure.
That being said, configuring it can be a little daunting with the many different configurations available and somewhat vague explanations on some of the terms.
While configuring Alertmanager, I came across these 3 confusing terms: group_wait, group_interval and repeat_interval.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/understanding-alertmanager/"
              >Read more →</a
            >
          </div>
        
      </div>
    
      <div class="post on-list">
        <h1 class="post-title"><a href="/blog/linux-node-exporter-setup/">Node-exporter setup with Systemd</a></h1>
        <div class="post-meta">
          
            <span class="post-date">
              6 Aug 2021
            </span>

            
          
          


          
            <span class="post-read-time"
              >— 3 min read</span
            >
          
        </div>

        
          <span class="post-tags">
            
              <a href="/tags/linux/">#linux</a>&nbsp;
            
              <a href="/tags/monitoring/">#monitoring</a>&nbsp;
            
              <a href="/tags/node-exporter/">#node-exporter</a>&nbsp;
            
              <a href="/tags/systemd/">#systemd</a>&nbsp;
            
          </span>
        

        

        <div class="post-content">
          
            
              For those who aren&rsquo;t familiar, node-exporter is a Prometheus exporter that exposes hardware and OS metrics from *NIX kernels.
To get it up and running, there&rsquo;s a simple guide on Prometheus official docs. The issue with the approach is that running node-exporter by executing binary directly isn&rsquo;t the most reliable approach in a production environment as there&rsquo;s no way to ensure that the node_exporter process will run continuously.
This is where systemd comes in.
            
          
        </div>
        
          <div>
            <a class="read-more button" href="/blog/linux-node-exporter-setup/"
              >Read more →</a
            >
          </div>
        
      </div>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
      <span class="button previous">
        <a href="/blog/page/3/">
          <span class="button__icon">←</span>
          <span class="button__text">Newer posts</span>
        </a>
      </span>
    
    
  </div>
</div>

  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span
          >© 2024 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script><script src="/searchbar.js"></script>
<script src="/toggle-image.js"></script>

      
    </div>

    
      
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-SX2DZ2KVGS"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-SX2DZ2KVGS');
        }
      </script>
    
  


    
  </body>
</html>
